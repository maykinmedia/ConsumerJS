!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(global,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=3)}([function(t,e){t.exports=require("urijs")},function(t,e){t.exports=require("axios")},function(t,e){t.exports=require("aurelia-cookie")},function(t,e,r){"use strict";r.r(e),r.d(e,"ConsumerObject",(function(){return at})),r.d(e,"CrudConsumer",(function(){return kt})),r.d(e,"CrudConsumerObject",(function(){return dt})),r.d(e,"AbstractList",(function(){return E})),r.d(e,"AbstractPageNumberList",(function(){return qt})),r.d(e,"List",(function(){return H})),r.d(e,"PageNumberList",(function(){return zt})),r.d(e,"LinkedPageNumberList",(function(){return Gt})),r.d(e,"AbstractHTTPClient",(function(){return s})),r.d(e,"AxiosHTTPClient",(function(){return j})),r.d(e,"Consumer",(function(){return Z})),r.d(e,"utils",(function(){return n}));var n={};r.r(n),r.d(n,"diff",(function(){return z})),r.d(n,"excludeUnserializableFields",(function(){return I})),r.d(n,"isObject",(function(){return J}));var o=r(2),i=r(0),u=r.n(i),c=r(1),a=r.n(c);function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.consumer=e,this.baseURL=this.consumer.endpoint,this.headers=this.consumer.defaultHeaders,this.arrayFormat="repeat",r&&Object.assign(this,r)}var e,r,n;return e=t,(r=[{key:"setBaseURL",value:function(t){this.baseURL=t}},{key:"addHeader",value:function(t,e){this.headers[t]=e}},{key:"delete",value:function(){return Promise.reject("Not implemented!")}},{key:"get",value:function(){return Promise.reject("Not implemented!")}},{key:"patch",value:function(){return Promise.reject("Not implemented!")}},{key:"post",value:function(){return Promise.reject("Not implemented!")}},{key:"put",value:function(){return Promise.reject("Not implemented!")}},{key:"getURL",value:function(t){return(t+="").match("://")?t:t?(this.baseURL+"/"+t).replace(/([^:])\/\/+/g,"$1/"):this.baseURL}}])&&f(e.prototype,r),n&&f(e,n),t}();function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.headers={},this.response={},this.responseType="text/json",this.statusCode=0,this.statusText="",e&&Object.assign(this,e)}var e,r,n;return e=t,(r=[{key:"toString",value:function(){return"".concat(this.statusCode," ").concat(this.statusText).trim()}}])&&l(e.prototype,r),n&&l(e,n),t}();function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(n=(u=c.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return b(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=O(t);if(e){var o=O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return g(this,r)}}function g(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?_(t):e}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(i,t);var e,r,n,o=m(i);function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t,e)).cancelSource=c.CancelToken.source(),e&&Object.assign(_(r),e),r}return e=i,(r=[{key:"getConfiguration",value:function(t,e){return a.a.configured||(a.a.interceptors.response.use(this.createResponse.bind(this),this.createError.bind(this)),a.a.configured=!0),{cancelToken:this.cancelSource.token,headers:this.headers,params:e,transformResponse:function(t){return t},paramsSerializer:this.serializeParams.bind(this),data:JSON.stringify(t),withCredentials:this.consumer.csrfProtection,xsrfCookieName:this.consumer.csrfCookie,xsrfHeaderName:this.consumer.csrfHeader}}},{key:"serializeParams",value:function(t){var e=this;return Object.entries(t).reduce((function(t,r){var n=h(r,2),o=n[0],i=n[1],u="&".concat(o,"=");return"brackets"===e.arrayFormat&&(u="&".concat(o,"[]=")),Array.isArray(i)&&(i=i.join(u)),t+u+i}),"").replace("&","")}},{key:"createResponse",value:function(t){return new p({headers:t.headers,requestMessage:t.request,response:t.data,responseType:"text/json",statusCode:t.status,statusText:t.statusText})}},{key:"createError",value:function(t){var e;try{e="string"==typeof t?parseInt(t.match(/\d+/)[0]):t.response.status}catch(t){e=0}return Promise.reject(new p({statusCode:e,statusText:t,__CANCEL__:Boolean(t.__CANCEL__)}))}},{key:"withAbort",value:function(t){var e=t.catch((function(t){return a.a.isCancel(t)?Promise.reject(new p({response:t,responseType:"abort",statusCode:0,statusText:""})):Promise.reject(t)}));return e.abort=this.cancelSource.cancel,e.cancel=this.cancelSource.cancel,e}},{key:"delete",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("delete",t,e)}},{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("get",t,e)}},{key:"patch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("patch",t,e)}},{key:"post",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("post",t,e)}},{key:"put",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("put",t,e)}},{key:"request",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=u()(r),i=o.query(!0);return o.query(!1),r=o.toString(),e="get"===(t=t.toLowerCase())||"delete"===t?a.a[t](this.getURL(r),this.getConfiguration(n,i)):a.a[t](this.getURL(r),n,this.getConfiguration(n,i)),this.withAbort(e)}}])&&v(e.prototype,r),n&&v(e,n),i}(s);function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){return!e||"object"!==w(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t){var e="function"==typeof Map?new Map:void 0;return(k=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return R(t,arguments,T(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),x(n,t)})(t)}function R(t,e,r){return(R=C()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&x(o,r.prototype),o}).apply(null,arguments)}function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(o,t);var e,r,n=(e=o,r=C(),function(){var t,n=T(e);if(r){var o=T(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return P(this,t)});function o(t,e){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};S(this,o),(r=n.call.apply(n,[this].concat(t))).responseData=i;var u=Object.keys(i);for(var c in u)if(u.hasOwnProperty(c)){var a=u[c];r.responseData[a]=i[a]}return r.__consumer__=e,r}return o}(k(Array));function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=N(t);if(e){var o=N(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return L(this,r)}}function L(t,e){return!e||"object"!==A(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var H=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(r,t);var e=F(r);function r(){return D(this,r),e.apply(this,arguments)}return r}(E);function M(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(n=(u=c.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return U(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function z(t,e){for(var r={},n=0,o=Object.keys(e);n<o.length;n++){var i=o[n],u=t?t[i]:null,c=e[i];if(Array.isArray(c)){var a=z(c,u);if(!Object.keys(a).length)continue;r[i]=c}else if(J(c)){var f=z(u,c);if(!Object.keys(f).length)continue;r[i]=f}else{if(c===u)continue;r[i]=c}}for(var s=0,l=Object.keys(t);s<l.length;s++){var p=l[s];e[p]||(r[p]=null)}return r}function I(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.__consumer__.unserializableFields,r={},n=0,o=Object.entries(t);n<o.length;n++){var i=M(o[n],2),u=i[0],c=i[1];e.indexOf(u)>-1||(r[u]=c)}return r}function J(t){return"[object Object]"===Object.prototype.toString.call(t)}function Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var B=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Q(this,t),this.contentType="application/json",this.csrfProtection=!0,this.csrfCookie="csrftoken",this.csrfHeader="X-CSRFToken",this.defaultHeaders={Accept:"application/json"},this.defaultParameters={},this.endpoint=e,this.objectClass=r,this.listClass=H,this.parserDataPath="",this.unserializableFields=["__consumer__"],this.client=new j(this),n&&Object.assign(this,n)}var e,r,n;return e=t,(r=[{key:"delete",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=u.a.build({path:t,query:u.a.buildQuery(e)});return this.request("delete",r,{})}},{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=u.a.build({path:t+"",query:u.a.buildQuery(e)});return this.request("get",r,{})}},{key:"patch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=u.a.build({path:t,query:u.a.buildQuery(r)});return this.request("patch",n,e)}},{key:"post",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=u.a.build({path:t,query:u.a.buildQuery(r)});return this.request("post",n,e)}},{key:"put",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=u.a.build({path:t,query:u.a.buildQuery(r)});return this.request("put",n,e)}},{key:"request",value:function(t){var e,r,n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.client.setBaseURL(this.endpoint),this.addHeader("Content-Type",this.contentType);for(var c=0,a=Object.keys(this.defaultHeaders);c<a.length;c++){var f=a[c];this.addHeader(f,this.defaultHeaders[f])}var s=u()(o);return s.addQuery(this.defaultParameters),i=this.serialize(i),(r=(e=this.client[t](s.toString(),i)).then((function(e){return n.requestSuccess(e,t,s.toString(),i)})).catch(this.requestFailed.bind(this))).abort=e.abort,r.cancel=e.cancel,r}},{key:"getCookie",value:function(t){return o.AureliaCookie.get(t)}},{key:"addHeader",value:function(t,e){this.client.addHeader(t,e)}},{key:"serialize",value:function(t){return J(t)?I(t,this.unserializableFields):t}},{key:"requestSuccess",value:function(t,e,r,n){var o=this.parse(t.response,e,r,n);return Promise.resolve(o)}},{key:"parse",value:function(t,e,r,n){if(t){var o=t;"string"==typeof t&&(o=JSON.parse(t));var i=JSON.parse(JSON.stringify(o));return this.parserDataPath&&this.parserDataPath.split(".").forEach((function(t){i=i[t]})),i||(i=o),Array.isArray(i)?this.parseList(i,o,e,r,n):this.parseScalar(i,o,e,r,n)}}},{key:"parseList",value:function(t,e,r,n,o){var i=this,u=t.map((function(t){return i.parseEntity(t,e,r,n,o)}));return new this.listClass(u,this,e,r,n,o)}},{key:"parseScalar",value:function(t,e,r,n,o){return this.parseEntity(t,e,r,n,o)}},{key:"parseEntity",value:function(t,e,r,n,o){return new this.objectClass(t,this)}},{key:"requestFailed",value:function(t){return Promise.reject(t)}}])&&$(e.prototype,r),n&&$(e,n),t}();function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Y(t);if(e){var o=Y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return W(this,r)}}function W(t,e){return!e||"object"!==K(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(r,t);var e=V(r);function r(){return X(this,r),e.apply(this,arguments)}return r}(B);function tt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var et=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.createFromObject(e),this.__consumer__=r}var e,r,n;return e=t,(r=[{key:"createFromObject",value:function(t){var e=Object.keys(t);for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];this[n]=t[n]}}},{key:"asJSON",value:function(){return JSON.stringify(I(this))}}])&&tt(e.prototype,r),n&&tt(e,n),t}();function rt(t){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ot(t,e){return(ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function it(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ct(t);if(e){var o=ct(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ut(this,r)}}function ut(t,e){return!e||"object"!==rt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ct(t){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var at=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ot(t,e)}(r,t);var e=it(r);function r(){return nt(this,r),e.apply(this,arguments)}return r}(et);function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function st(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(n=(u=c.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return lt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yt(t,e){return(yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ht(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=vt(t);if(e){var o=vt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return bt(this,r)}}function bt(t,e){return!e||"object"!==ft(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(i,t);var e,r,n,o=ht(i);function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t,e)).__initial_state__=JSON.parse(JSON.stringify(t)),r}return e=i,(r=[{key:"update",value:function(){var t=this,e=this.getPath(),r=I(this),n=this.getChangedFields();if(!e)throw new Error("Can't determine path, please set pk or id or define getPath()");return 0===Object.keys(n).length?Promise.resolve(this):this.__consumer__.patch(e,n).then((function(){return t.__initial_state__=r,Promise.resolve(t)}))}},{key:"save",value:function(){var t=this,e=this.getPath(),r=I(this);if(!e)throw new Error("Can't determine path, please set pk or id or define getPath()");return this.__consumer__.put(e,this).then((function(){return t.__initial_state__=r,Promise.resolve(t)}))}},{key:"delete",value:function(){var t=this.getPath();if(!t)throw new Error("Can't determine path, please set pk or id or define getPath()");return this.__consumer__.delete(t)}},{key:"getPath",value:function(){var t=this.getPK();return!!t&&t+""}},{key:"getPK",value:function(){return this.pk||this.id||!1}},{key:"getChangedFields",value:function(){for(var t={},e=0,r=Object.entries(this);e<r.length;e++){var n=st(r[e],2),o=n[0],i=n[1];this.__consumer__.unserializableFields.indexOf(o)>-1||(t[o]=i)}return z(this.__initial_state__,I(this))}}])&&pt(e.prototype,r),n&&pt(e,n),i}(et);function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ot(t,e,r){return(Ot="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function jt(t,e){return(jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Pt(t);if(e){var o=Pt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return St(this,r)}}function St(t,e){return!e||"object"!==mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pt(t){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jt(t,e)}(i,t);var e,r,n,o=wt(i);function i(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return gt(this,i),(e=o.call(this,t,r,n)).unserializableFields.push("__initial_state__"),e}return e=i,(r=[{key:"create",value:function(t){return Ot(Pt(i.prototype),"post",this).call(this,"",t)}},{key:"read",value:function(t){return Ot(Pt(i.prototype),"get",this).call(this,t)}}])&&_t(e.prototype,r),n&&_t(e,n),i}(B);function Rt(t){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Tt(t,e){return(Tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Dt(t);if(e){var o=Dt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return At(this,r)}}function At(t,e){return!e||"object"!==Rt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dt(t){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tt(t,e)}(i,t);var e,r,n,o=Et(i);function i(t,e,r){var n,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"get",c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return Ct(this,i),(n=o.call(this,t,e,r,u,c,a)).currentMethod=u,n.currentPath=c,n.currentData=a,n.pageField="page",n.pageQueryParam="page",n.page=parseInt(n.responseData[n.pageField]),n.pageCountField="count",n.pageCount=parseInt(n.responseData[n.pageCountField]),n.pageSize=n.length,n}return e=i,(r=[{key:"first",value:function(){return this.goToPage(1)}},{key:"last",value:function(){return this.goToPage(this.pageCount)}},{key:"previous",value:function(){return this.goToPage(Math.max(this.page-1,1))}},{key:"next",value:function(){return this.goToPage(Math.min(this.page+1,this.pageCount))}},{key:"goToPage",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e?"get":this.currentMethod,n=e?{}:this.currentData;return this.requestPage(t,r,n)}},{key:"requestPage",value:function(t,e,r){var n=u()(this.currentPath).setSearch(this.pageQueryParam,t);return this.__consumer__.request(e,n.toString(),r)}}])&&xt(e.prototype,r),n&&xt(e,n),i}(E);function Ft(t){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nt(t,e){return(Nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ht(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ut(t);if(e){var o=Ut(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Mt(this,r)}}function Mt(t,e){return!e||"object"!==Ft(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ut(t){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nt(t,e)}(r,t);var e=Ht(r);function r(){return Lt(this,r),e.apply(this,arguments)}return r}(qt);function It(t){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $t(t,e){return($t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Xt(t);if(e){var o=Xt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Kt(this,r)}}function Kt(t,e){return!e||"object"!==It(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xt(t){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$t(t,e)}(i,t);var e,r,n,o=Bt(i);function i(){return Jt(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"previous",value:function(){if("string"!=typeof this.responseData.previous)return Promise.resolve(this);var t=this.responseData.previous;return this.__consumer__.get(t)}},{key:"next",value:function(){if("string"!=typeof this.responseData.next)return Promise.resolve(this);var t=this.responseData.next;return this.__consumer__.get(t)}}])&&Qt(e.prototype,r),n&&Qt(e,n),i}(qt);e.default=Z}])}));